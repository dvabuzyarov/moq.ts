<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>moq.ts | documentation</title>
	<meta name="description" content="Documentation for moq.ts | documentation">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">moq.ts | documentation</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>moq.ts | documentation</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://travis-ci.org/dvabuzyarov/moq.ts"><img src="https://travis-ci.org/dvabuzyarov/moq.ts.svg?branch=master" alt="Build Status"></a>
					<a href="https://www.npmjs.com/package/moq.ts"><img src="https://img.shields.io/npm/v/moq.ts/latest.svg?style=flat-square" alt="NPM version:latest"></a>
					<a href="https://www.npmjs.com/package/moq.ts"><img src="https://img.shields.io/npm/v/moq.ts/next.svg?style=flat-square" alt="NPM version:next"></a>
					<a href="https://www.npmjs.com/package/moq.ts"><img src="https://img.shields.io/npm/dt/moq.ts.svg?style=flat-square" alt="npm downloads"></a>
					<a href="https://david-dm.org/dvabuzyarov/moq.ts"><img src="http://img.shields.io/david/dvabuzyarov/moq.ts.svg?style=flat-square" alt="Dependency Status"></a>
					<a href="http://commitizen.github.io/cz-cli/"><img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg" alt="Commitizen friendly"></a>
					<a href="https://github.com/semantic-release/semantic-release"><img src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" alt="semantic-release"></a>
					<a href="https://renovatebot.com/"><img src="https://img.shields.io/badge/renovate-enabled-brightgreen.svg" alt="Renovate enabled"></a>
					<a href="https://www.npmjs.com/package/moq.ts"><img src="https://img.shields.io/bundlephobia/minzip/moq.ts.svg" alt="npm bundle size (minified + gzip)"></a>
				<a href="https://www.npmjs.com/package/moq.ts"><img src="https://img.shields.io/hexpm/l/plug.svg" alt="License"></a></p>
				<a href="#moqts--documentation" id="moqts--documentation" style="color: inherit; text-decoration: none;">
					<h1>moq.ts | <a href="https://dvabuzyarov.github.io/moq.ts/">Documentation</a></h1>
				</a>
				<p>Moq for Typescript. Inspired by c# <a href="https://github.com/moq/moq4">Moq library</a>.</p>
				<a href="#install" id="install" style="color: inherit; text-decoration: none;">
					<h4>Install</h4>
				</a>
				<p>npm install moq.ts --save-dev</p>
				<a href="#quick-start" id="quick-start" style="color: inherit; text-decoration: none;">
					<h4>Quick start</h4>
				</a>
				<p>moq.ts as the original <a href="https://github.com/moq/moq4">Moq library</a> is intended to be simple to use, strongly typed (no
					magic strings!, and therefore full compiler-verified and refactoring-friendly) and minimalistic (while still fully
					functional!). Every each mock is an instance
				of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a> object.</p>
				<p>You can find a pretty full set of usages in the integration tests. Check
				out <a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/integration.specs/">tests.integration</a> folder.</p>
				<hr>
				<ul>
					<li><a href="#mocking-functions-of-objects">Mocking functions of objects</a></li>
					<li><a href="#mocking-reading-properties">Mocking reading properties</a></li>
					<li><a href="#mocking-writing-properties">Mocking writing property setting</a></li>
					<li><a href="#mocking-functions">Mocking functions</a></li>
					<li><a href="#auto-mocking">Auto mocking</a><ul>
							<li><a href="#limitations">Limitations</a></li>
						</ul>
					</li>
					<li><a href="#asyncawait">async/await</a><ul>
							<li><a href="#eslint-typescript-eslintpromise-function-asynchttpsgithubcomtypescript-eslinttypescript-eslintblobmasterpackageseslint-plugindocsrulespromise-function-asyncmd-rule">ESLint [@typescript-eslint/promise-function-async]</a></li>
							<li><a href="#setup-reactions">Setup reactions</a></li>
							<li><a href="#promise-adapters">Promise adapters</a></li>
						</ul>
					</li>
					<li><a href="#type-discovering">Type Discovering</a></li>
					<li><a href="#mock-behavior">Mock behavior</a><ul>
							<li><a href="#setup-play-times">Play times</a></li>
							<li><a href="#injector-config">Injector config</a><ul>
									<li><a href="#defaultinjectorconfig">DefaultInjectorConfig</a></li>
									<li><a href="#equalmatchinginjectorconfig">EqualMatchingInjectorConfig and custom matchers</a></li>
									<li><a href="#internal-api">Internal API</a></li>
								</ul>
							</li>
						</ul>
					</li>
					<li><a href="#mock-prototype">Mock prototype</a></li>
					<li><a href="#mimics">Mimics</a></li>
					<li><a href="#typeof-operator">typeof operator</a></li>
					<li><a href="#in-operator">in operator</a></li>
					<li><a href="#new-operator">new operator</a></li>
					<li><a href="#moqapi-symbol">MoqAPI symbol</a></li>
				</ul>
				<hr>
				<!-- toc -->
				<a href="#mocking-functions-of-objects" id="mocking-functions-of-objects" style="color: inherit; text-decoration: none;">
					<h2>Mocking functions of objects</h2>
				</a>
				<p><a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/integration.specs/instance-method.spec.ts">instance-method.spec.ts</a></p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Mock</span><span style="color: #000000">, </span><span style="color: #001080">It</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">ITestObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">   </span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #001080">arg1</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080">arg2</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">): </span><span style="color: #267F99">Date</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">values</span><span style="color: #000000"> = [</span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">];</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">   .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">values</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">]))</span>
<span style="color: #000000">   .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000">(</span><span style="color: #098658">2016</span><span style="color: #000000">))</span>

<span style="color: #000000">   .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">value</span><span style="color: #000000"> === </span><span style="color: #098658">2</span><span style="color: #000000">), </span><span style="color: #001080">values</span><span style="color: #000000">[</span><span style="color: #098658">1</span><span style="color: #000000">]))</span>
<span style="color: #000000">   .</span><span style="color: #795E26">callback</span><span style="color: #000000">(({</span><span style="color: #001080">args</span><span style="color: #000000">: [</span><span style="color: #001080">arg1</span><span style="color: #000000">, </span><span style="color: #001080">arg2</span><span style="color: #000000">]}) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000">(</span><span style="color: #098658">2017</span><span style="color: #000000"> + </span><span style="color: #001080">arg1</span><span style="color: #000000">))</span>

<span style="color: #000000">   .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">3</span><span style="color: #000000">, </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">value</span><span style="color: #000000"> === </span><span style="color: #001080">values</span><span style="color: #000000">[</span><span style="color: #098658">2</span><span style="color: #000000">])))</span>
<span style="color: #000000">   .</span><span style="color: #795E26">throws</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Invoking method with 3 and c&quot;</span><span style="color: #000000">));</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">);</span>

<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">), </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Never</span><span style="color: #000000">());</span>
</code></pre>
				<a href="#mocking-reading-properties" id="mocking-reading-properties" style="color: inherit; text-decoration: none;">
					<h2>Mocking reading properties</h2>
				</a>
				<p><a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/integration.specs/read-property.spec.ts">read-property.spec.ts</a></p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Mock</span><span style="color: #000000">, </span><span style="color: #001080">It</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000">, </span><span style="color: #001080">GetPropertyExpression</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">ITestObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">property1</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">property2</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">property3</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #001080">property4</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">property4Name</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;property4&quot;</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property1</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">((</span><span style="color: #001080">expression</span><span style="color: #000000">: </span><span style="color: #267F99">GetPropertyExpression</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">expression</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000"> === </span><span style="color: #A31515">&quot;property2&quot;</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property3</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">callback</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #098658">10</span><span style="color: #000000"> + </span><span style="color: #098658">10</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">[</span><span style="color: #001080">property4Name</span><span style="color: #000000">])</span>
<span style="color: #000000">    .</span><span style="color: #795E26">throws</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;property4 access&quot;</span><span style="color: #000000">))</span>

<span style="color: #000000">    </span><span style="color: #008000">//since a method is a property that holds a pointer to a function</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">method</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;The method was called&quot;</span><span style="color: #000000">)</span>
<span style="color: #000000">    });</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
<span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">();</span>

<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property1</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Never</span><span style="color: #000000">());</span>
</code></pre>
				<a href="#mocking-writing-properties" id="mocking-writing-properties" style="color: inherit; text-decoration: none;">
					<h2>Mocking writing properties</h2>
				</a>
				<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/set">The documentation on returned value from &quot;set hook&quot; on Proxy object</a></p>
				<p><a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/integration.specs/set.property.spec.ts">set-property.spec.ts</a></p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Mock</span><span style="color: #000000">, </span><span style="color: #001080">It</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000">, </span><span style="color: #001080">SetPropertyExpression</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">ITestObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">property</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> | </span><span style="color: #267F99">any</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">value</span><span style="color: #000000"> = {</span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000">()};</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #098658">1</span>
<span style="color: #000000">    })</span>
<span style="color: #000000">    </span><span style="color: #008000">//true - allows the write operation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99">any</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">((</span><span style="color: #001080">expression</span><span style="color: #000000">: </span><span style="color: #267F99">SetPropertyExpression</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">expression</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000"> === </span><span style="color: #A31515">&quot;property&quot;</span><span style="color: #000000"> &amp;&amp; </span><span style="color: #001080">expression</span><span style="color: #000000">.</span><span style="color: #001080">value</span><span style="color: #000000"> === </span><span style="color: #098658">2</span><span style="color: #000000">))</span>
<span style="color: #000000">    </span><span style="color: #008000">//false - denies the write operation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #0000FF">false</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">value</span><span style="color: #000000"> === </span><span style="color: #098658">3</span><span style="color: #000000">)</span>
<span style="color: #000000">    })</span>
<span style="color: #000000">    </span><span style="color: #008000">// allows the write operation</span>
<span style="color: #000000">    .</span><span style="color: #795E26">callback</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #001080">value</span>
<span style="color: #000000">    })</span>
<span style="color: #000000">    .</span><span style="color: #795E26">throws</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;an object has been written into property&quot;</span><span style="color: #000000">));</span>


<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
<span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #098658">1</span><span style="color: #000000">;</span>

<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #098658">1</span>
<span style="color: #000000">}, </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Once</span><span style="color: #000000">());</span>
</code></pre>
				<a href="#mocking-functions" id="mocking-functions" style="color: inherit; text-decoration: none;">
					<h2>Mocking functions</h2>
				</a>
				<p><a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/integration.specs/method.spec.ts">mock-method.property.IntegrationTests.ts</a></p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Mock</span><span style="color: #000000">, </span><span style="color: #001080">It</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">ITestFunction</span><span style="color: #000000"> {</span>
<span style="color: #000000">    (</span><span style="color: #001080">arg</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000"> | </span><span style="color: #267F99">any</span><span style="color: #000000">): </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">value</span><span style="color: #000000"> = {</span><span style="color: #001080">field:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000">()};</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestFunction</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;called with 1&quot;</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">callback</span><span style="color: #000000">(({</span><span style="color: #001080">args</span><span style="color: #000000">: [</span><span style="color: #001080">argument</span><span style="color: #000000">]}) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">argument</span><span style="color: #000000"> === </span><span style="color: #098658">2</span><span style="color: #000000"> ? </span><span style="color: #A31515">&quot;called with 2&quot;</span><span style="color: #000000"> : </span><span style="color: #A31515">`called with </span><span style="color: #0000FF">${</span><span style="color: #001080">argument</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">)</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">throws</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Argument is object with date&quot;</span><span style="color: #000000">))</span>

<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">value</span><span style="color: #000000"> === </span><span style="color: #098658">4</span><span style="color: #000000">)))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;called with 4&quot;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">method</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">);</span>

<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">), </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Once</span><span style="color: #000000">());</span>
<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">Is</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">value</span><span style="color: #000000"> === </span><span style="color: #098658">1</span><span style="color: #000000">)), </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Exactly</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">));</span>


</code></pre>
				<a href="#auto-mocking" id="auto-mocking" style="color: inherit; text-decoration: none;">
					<h2>Auto mocking</h2>
				</a>
				<blockquote>
					<p> The feature does not support async/await expressions.</p>
				</blockquote>
				<p>The library support auto mocking for deep members. Consider this case:</p>
				<pre><code class="language-typescript">
<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">IChild</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">get</span><span style="color: #000000">(): </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">IRoot</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">child</span><span style="color: #000000">: </span><span style="color: #267F99">IChild</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">value</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;value&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">child</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">IChild</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">())</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">root</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">IRoot</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">child</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">child</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">root</span><span style="color: #000000">.</span><span style="color: #001080">child</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
</code></pre>
				<p>We have to create a child mock in order to set up &quot;child&quot; property of the root object. With auto mocking this case could
				be rewritten as following:</p>
				<pre><code class="language-typescript">
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">root</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">IRoot</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    </span><span style="color: #008000">// The root mock automatically creates a mock for the child property</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #001080">child</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">())</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">root</span><span style="color: #000000">.</span><span style="color: #001080">child</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#limitations" id="limitations" style="color: inherit; text-decoration: none;">
					<h4>Limitations</h4>
				</a>
				<p>At this moment <a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/lib/reflector/expression-predicates.ts">It predicates</a> are forbidden, except the last part of an expression.
				Consider this case:</p>
				<pre><code class="language-typescript"><span style="color: #000000">        </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">a</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">b</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">c</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;c&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span>
<span style="color: #000000">        </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;{ </span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">): { </span><span style="color: #001080">a</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">; </span><span style="color: #001080">b</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">; </span><span style="color: #001080">c</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000"> } }&gt;({</span><span style="color: #001080">injectorConfig</span><span style="color: #000000">})</span>
<span style="color: #000000">            .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">).</span><span style="color: #001080">a</span><span style="color: #000000">)</span>
<span style="color: #000000">            .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">a</span><span style="color: #000000">)</span>
<span style="color: #000000">            .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">).</span><span style="color: #001080">b</span><span style="color: #000000">)</span>
<span style="color: #000000">            .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">a</span><span style="color: #000000">)</span>
<span style="color: #000000">            .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">IsAny</span><span style="color: #000000">()).</span><span style="color: #001080">c</span><span style="color: #000000">)</span>
<span style="color: #000000">            .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">b</span><span style="color: #000000">)</span>
<span style="color: #000000">            .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
</code></pre>
				<p>In this example a root object has method &#39;get&#39; that returns an object with 3 properties.
				The library would create a mock as a result of get method and save it in an internal map, where the expression is a key.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">MethodExpression</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;./expressions&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Map</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Expression</span><span style="color: #000000">, </span><span style="color: #267F99">Mock</span><span style="color: #000000">&gt;([</span>
<span style="color: #000000">    [</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">MethodExpression</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;get&quot;</span><span style="color: #000000">, [</span><span style="color: #A31515">&quot;a&quot;</span><span style="color: #000000">]), </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">()],</span>
<span style="color: #000000">    [</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">MethodExpression</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;get&quot;</span><span style="color: #000000">, [</span><span style="color: #A31515">&quot;b&quot;</span><span style="color: #000000">]), </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">()],</span>
<span style="color: #000000">    [</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">MethodExpression</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;get&quot;</span><span style="color: #000000">, [</span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">IsAny</span><span style="color: #000000">()]), </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">()],</span>
<span style="color: #000000">])  </span>
</code></pre>
				<p>In the provided example there are 2 issues:</p>
				<ol>
					<li>It is not clear to what mock add the third setup with It notation.</li>
					<li>In order to find the third mock in the map it needs to use the same function as a key.</li>
				</ol>
				<p>Those issues are not obvious and could lead to a hard detected behaviour. To prevent it and to give developers clean and robust API
				<a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/lib/reflector/expression-predicates.ts">It predicates</a> is forbidden in the auto-mocking feature.</p>
				<a href="#asyncawait" id="asyncawait" style="color: inherit; text-decoration: none;">
					<h2>async/await</h2>
				</a>
				<p>The library supports asynchronous function with a promise-based wrappers. </p>
				<blockquote>
					<p> async/await expressions are not supported in the auto-mocking feature.</p>
				</blockquote>
				<a href="#eslint-typescript-eslintpromise-function-async-rule" id="eslint-typescript-eslintpromise-function-async-rule" style="color: inherit; text-decoration: none;">
					<h4>ESLint <a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/promise-function-async.md">@typescript-eslint/promise-function-async</a> rule</h4>
				</a>
				<p>This rule will ask you to write expressions with async keyword.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">fn</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returnsAsync</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">throwsAsync</span><span style="color: #000000">(</span><span style="color: #001080">exception</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#setup-reactions" id="setup-reactions" style="color: inherit; text-decoration: none;">
					<h4>Setup reactions</h4>
				</a>
				<ul>
					<li>returnsAsync - returns a Promise which will be resolved with the provided value;</li>
					<li>throwsAsync - returns a Promise which will be rejected with the provided exception;</li>
				</ul>
				<pre><code class="language-typescript"><span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">fn</span><span style="color: #000000">(</span><span style="color: #001080">input</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">input</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">exception</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">fn</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returnsAsync</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #008000">// equal to</span>
<span style="color: #000000">    </span><span style="color: #008000">// .returns(Promise.resolve(2))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">throwsAsync</span><span style="color: #000000">(</span><span style="color: #001080">exception</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #008000">// equal to</span>
<span style="color: #000000">    </span><span style="color: #008000">// .returns(Promise.reject(exception))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">mock</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>

<span style="color: #AF00DB">try</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">mock</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>
<span style="color: #000000">} </span><span style="color: #AF00DB">catch</span><span style="color: #000000"> (</span><span style="color: #001080">e</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #001080">exception</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#promise-adapters" id="promise-adapters" style="color: inherit; text-decoration: none;">
					<h4>Promise adapters</h4>
				</a>
				<p>Due to the fact that some environments are not using the native Promise object the library provides adapters for
					resolved/rejected promise that could be overridden.
					See <a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/lib/presets/resolved-promise.factory.ts">ResolvedPromiseFactory</a>
					,
				<a href="https://github.com/dvabuzyarov/moq.ts/blob/master/projects/moq/src/lib/presets/rejected-promise.factory.ts">RejectedPromiseFactory</a>.</p>
				<a href="#type-discovering" id="type-discovering" style="color: inherit; text-decoration: none;">
					<h2>Type Discovering</h2>
				</a>
				<p>Despite the fact that Mock class is generic type where T parameter is stands for mocked type it works only at design
					time. At the runtime phase the type is not available and Moq library relays on other ways to discover the type
				information. It is required to implement correct behaviour of mocked object.</p>
				<p>Consider this case:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Not Implemented&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Prototype</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(); </span><span style="color: #008000">// throws TypeError: object.method is not a function</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">undefined</span><span style="color: #000000">);</span>
</code></pre>
				<p>It happens because at runtime the mock does not know that method is a part of the mocked type. So at the moment there
				are 3 ways how type could be discovered at runtime.</p>
				<a href="#target" id="target" style="color: inherit; text-decoration: none;">
					<h4>Target</h4>
				</a>
				<p>It is possible to provide a target object instance when a new instance of mock is being created. It will fix typeof
				operator. The prototype of the target will be used for type discovering and fixing instanceof operator.</p>
				<p>By default, a mock is instantiated as Function object, so at runtime the mock &quot;knows&quot; about Function inherited
				properties and methods.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Not Implemented&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Prototype</span><span style="color: #000000">&gt;({</span><span style="color: #001080">target:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Prototype</span><span style="color: #000000">()})</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">undefined</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;object&quot;</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">object</span><span style="color: #000000"> </span><span style="color: #0000FF">instanceof</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#prototype" id="prototype" style="color: inherit; text-decoration: none;">
					<h4>Prototype</h4>
				</a>
				<p>Another way to deal with type discovering is to provide a prototype object.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Not Implemented&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Prototype</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">prototypeof</span><span style="color: #000000">(</span><span style="color: #267F99">Prototype</span><span style="color: #000000">.</span><span style="color: #001080">prototype</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">undefined</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;function&quot;</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">object</span><span style="color: #000000"> </span><span style="color: #0000FF">instanceof</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#setup-examination" id="setup-examination" style="color: inherit; text-decoration: none;">
					<h4>Setup examination</h4>
				</a>
				<p>In some cases Moq library can discover type information from provided setup information.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">number</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Not Implemented&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Prototype</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">()) </span><span style="color: #008000">// this would be used for type discovering</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;function&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#mock-behavior" id="mock-behavior" style="color: inherit; text-decoration: none;">
					<h2>Mock behavior</h2>
				</a>
				<p>A mocked object is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a>,
					that configured to track any read and write operations on properties. If you write a value to an arbitrary property the
				mocked object will keep it, and you can read it later on. By default, the prototype of mocked object is Function.</p>
				<p>Accessing to an unset property or a method will return undefined, or a pointer to a spy function if it exists on
				prototype; You can call this function, and it will be tracked.</p>
				<p>The default behaviour has the lowest precedence. The latest setup has the highest precedence.</p>
				<p>You can control mock behavior when accessing to a property without a corresponding setup.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;();</span>
<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">setup</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">IsAny</span><span style="color: #000000">())</span>
<span style="color: #000000">    .</span><span style="color: #795E26">throws</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;setup is missed&quot;</span><span style="color: #000000">));</span>
</code></pre>
				<a href="#setup-play-times" id="setup-play-times" style="color: inherit; text-decoration: none;">
					<h4>Setup play times</h4>
				</a>
				<p>It is possible to define a predicate that defines if provided setup can handle an interaction.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">PlayTimes</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Prototype</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">number</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">throw</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Not Implemented&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Prototype</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    </span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">())</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">4</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">())</span>
<span style="color: #000000">    </span><span style="color: #008000">// it could be any predefined funtion of PlayTimes or a custom function</span>
<span style="color: #000000">    .</span><span style="color: #795E26">play</span><span style="color: #000000">(</span><span style="color: #001080">PlayTimes</span><span style="color: #000000">.</span><span style="color: #795E26">Once</span><span style="color: #000000">()) </span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>


<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">()).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">object</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">()).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">4</span><span style="color: #000000">);</span>
</code></pre>
				<p>The latest setup has the highest precedence. And it says that it could handle only one interaction. After
				that the setup will be ignored and next setup would be taken.</p>
				<a href="#injector-config" id="injector-config" style="color: inherit; text-decoration: none;">
					<h4>Injector config</h4>
				</a>
				<p>Internally the library is using an injector that implementation is based
					on <a href="https://angular.io/guide/dependency-injection-providers">Angular injector</a> to create and configure every each Mock
				object that is created with its constructor.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">() </span><span style="color: #008000">// &lt;-- calls angular based injector internally to create all dependencies </span>
</code></pre>
				<p>The library provides an extension point to change the way how mocks are configured internally. It is available through
				IMockOptions.injectorConfig that could be applied globally or per mock instance at the instancing phase.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EqualMatchingInjectorConfig</span><span style="color: #000000">, </span><span style="color: #001080">Mock</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #008000">// The global configuration that would be overridden with instance options </span>
<span style="color: #001080">Mock</span><span style="color: #000000">.</span><span style="color: #001080">options</span><span style="color: #000000"> = {</span><span style="color: #001080">injectorConfig:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EqualMatchingInjectorConfig</span><span style="color: #000000">()};</span>
<span style="color: #008000">// or per instance</span>
<span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">({</span><span style="color: #001080">injectorConfig:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EqualMatchingInjectorConfig</span><span style="color: #000000">()})</span>
</code></pre>
				<p>Out of the box there are 2 available configurations that change the way how a mock compares expressions.</p>
				<a href="#defaultinjectorconfig" id="defaultinjectorconfig" style="color: inherit; text-decoration: none;">
					<h4>DefaultInjectorConfig</h4>
				</a>
				<p>This is a default configuration that provides the standard mock behaviours.</p>
				<a href="#equalmatchinginjectorconfig" id="equalmatchinginjectorconfig" style="color: inherit; text-decoration: none;">
					<h4>EqualMatchingInjectorConfig</h4>
				</a>
				<p>By default, all values are matched
					with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness">Equality comparisons and sameness</a>
					that is limited in matching objects. On the other hand developers are using so called &quot;deep equal comparison&quot; approach,
					where objects are matched by its properties and values. This configuration changes the way how expressions are matched
				and introduce deep equal comparison logic as well as an extension point for custom matchers.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Mock</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;(</span><span style="color: #001080">args</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">[]) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">number</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">([</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">1</span><span style="color: #000000">]))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #795E26">object</span><span style="color: #000000">([</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">1</span><span style="color: #000000">]);</span>

<span style="color: #008000">// since the default comparisons logic sees [2, 1] and [2, 1] as different objects the provided setup would not work</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">undefined</span><span style="color: #000000">);</span>
</code></pre>
				<p>and compare with</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EqualMatchingInjectorConfig</span><span style="color: #000000">, </span><span style="color: #001080">Mock</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;(</span><span style="color: #001080">args</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">[]) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">number</span><span style="color: #000000">&gt;({</span><span style="color: #001080">injectorConfig:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EqualMatchingInjectorConfig</span><span style="color: #000000">()})</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">([</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">1</span><span style="color: #000000">]))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #795E26">object</span><span style="color: #000000">([</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">1</span><span style="color: #000000">]);</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>
</code></pre>
				<p>Internally the equal comparision logic implemented as a collection of object matchers that implement IObjectMatcher
				interface.</p>
				<p>Matchers with the most specific logic should come first in the collection and if they are not able to match the objects
				then more general matchers would be invoked.</p>
				<p>The library comes with the following matchers:</p>
				<ol start="0">
					<li>Custom matchers</li>
					<li>DateMatcher - matches <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>
					objects</li>
					<li>MapMatcher - matches <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>
					objects</li>
					<li>IteratorMatcher - matches objects that
					supports <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">Iterator protocol</a></li>
					<li>POJOMatcher - as the last resort matches objects as <a href="https://en.wikipedia.org/wiki/Plain_old_Java_object">POJO</a>
					objects.</li>
				</ol>
				<p>Here is an example of a custom matcher that matches Moment and Date objects.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EqualMatchingInjectorConfig</span><span style="color: #000000">, </span><span style="color: #001080">IObjectMatcher</span><span style="color: #000000">, </span><span style="color: #001080">Mock</span><span style="color: #000000">, </span><span style="color: #001080">OBJECT_MATCHERS</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">isMoment</span><span style="color: #000000">, </span><span style="color: #001080">utc</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moment&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">MomentDateMatcher</span><span style="color: #000000"> </span><span style="color: #0000FF">implements</span><span style="color: #000000"> </span><span style="color: #267F99">IObjectMatcher</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #795E26">matched</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T</span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99">object</span><span style="color: #000000">&gt;(</span><span style="color: #001080">left</span><span style="color: #000000">: </span><span style="color: #267F99">T</span><span style="color: #000000">, </span><span style="color: #001080">right</span><span style="color: #000000">: </span><span style="color: #267F99">T</span><span style="color: #000000">): </span><span style="color: #267F99">boolean</span><span style="color: #000000"> | </span><span style="color: #267F99">undefined</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">left</span><span style="color: #000000"> </span><span style="color: #0000FF">instanceof</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000"> &amp;&amp; </span><span style="color: #795E26">isMoment</span><span style="color: #000000">(</span><span style="color: #001080">right</span><span style="color: #000000">)) {</span>
<span style="color: #000000">            </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">left</span><span style="color: #000000">.</span><span style="color: #795E26">valueOf</span><span style="color: #000000">() === </span><span style="color: #001080">right</span><span style="color: #000000">.</span><span style="color: #795E26">valueOf</span><span style="color: #000000">();</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #0000FF">undefined</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">moment</span><span style="color: #000000"> = </span><span style="color: #795E26">utc</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">injectorConfig</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EqualMatchingInjectorConfig</span><span style="color: #000000">([{</span>
<span style="color: #000000">    </span><span style="color: #001080">provide:</span><span style="color: #000000"> </span><span style="color: #0070C1">OBJECT_MATCHERS</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">useClass:</span><span style="color: #000000"> </span><span style="color: #001080">MomentDateMatcher</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">multi:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">deps:</span><span style="color: #000000"> []</span>
<span style="color: #000000">}]);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;(</span><span style="color: #001080">args</span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">number</span><span style="color: #000000">&gt;({</span><span style="color: #001080">injectorConfig</span><span style="color: #000000">})</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">moment</span><span style="color: #000000">))</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #795E26">object</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">));</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>
</code></pre>
				<p>The matching logic of EqualMatchingInjectorConfig
					supports <a href="https://raw.githubusercontent.com/dvabuzyarov/moq.ts/master/projects/moq/src/lib/expected-expressions/expression-predicates.ts">It notation</a>
				. So you can do a partial comparision.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">EqualMatchingInjectorConfig</span><span style="color: #000000">, </span><span style="color: #001080">It</span><span style="color: #000000">, </span><span style="color: #001080">Mock</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts&quot;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #795E26">func</span><span style="color: #000000"> = () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">undefined</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">injectorConfig</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">EqualMatchingInjectorConfig</span><span style="color: #000000">();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;(</span><span style="color: #001080">args</span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">number</span><span style="color: #000000">&gt;({</span><span style="color: #001080">injectorConfig</span><span style="color: #000000">})</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">({</span><span style="color: #001080">func:</span><span style="color: #000000"> </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">IsAny</span><span style="color: #000000">()})) </span><span style="color: #008000">// &lt;-- func property will be matched with It delegate</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #795E26">object</span><span style="color: #000000">({</span><span style="color: #001080">func</span><span style="color: #000000">});</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#internal-api" id="internal-api" style="color: inherit; text-decoration: none;">
					<h4>Internal API</h4>
				</a>
				<p>The <strong>moq.ts</strong> library is comprised of small units that follow <a href="https://en.wikipedia.org/wiki/SOLID">SOLID principles</a>.
				Some of those units are included in the public API. The others are part of the <strong>internal API</strong>.</p>
				<p>All of the units are composed together by an IoC container and make the library run. The IoC container&#39;s config is part
					of the public API, and developers can use it to change the behavior of any aspect of the library. In order to do this,
				developers need access to all public and internal units as well.</p>
				<p>The core units are public and are available directly from the moq.ts package. Changes in those units
					follow <a href="https://semver.org">Semantic Versioning</a>, while changes in the internal units do not
				follow <a href="https://semver.org">Semantic Versioning</a> and could produce all types of version increments.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;moq.ts/internal&quot;</span><span style="color: #000000">;</span>
</code></pre>
				<blockquote>
					<p>Internal API access provides wide opportunities to customize the library behavior. However,
					the user code that is based on the internal API <strong>could easily be broken</strong> by a new release.</p>
				</blockquote>
				<a href="#mock-prototype" id="mock-prototype" style="color: inherit; text-decoration: none;">
					<h2>Mock prototype</h2>
				</a>
				<p>If you need to make work instanceof operator or you need to deal with prototype of the mock object you can use
					prototypeof function of Mock class. Or you can
					use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf</a>
					or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf">Object.setPrototypeOf</a>
				functions on mocked object.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">TestObject</span><span style="color: #000000"> </span><span style="color: #0000FF">implements</span><span style="color: #000000"> </span><span style="color: #267F99">ITestObject</span><span style="color: #000000"> {</span>

<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">prototypeof</span><span style="color: #000000">(</span><span style="color: #267F99">TestObject</span><span style="color: #000000">.</span><span style="color: #001080">prototype</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">() </span><span style="color: #0000FF">instanceof</span><span style="color: #000000"> </span><span style="color: #267F99">TestObject</span><span style="color: #000000">;</span><span style="color: #008000">// true</span>
</code></pre>
				<a href="#mimics" id="mimics" style="color: inherit; text-decoration: none;">
					<h2>Mimics</h2>
				</a>
				<p>If you need to replicate behaviour of an existing object you can reflect mock&#39;s interactions on the object.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Origin</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #001080">input</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">): </span><span style="color: #267F99">number</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">input</span><span style="color: #000000"> * </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">origin</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Origin</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Origin</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">It</span><span style="color: #000000">.</span><span style="color: #795E26">IsAny</span><span style="color: #000000">())</span>
<span style="color: #000000">    .</span><span style="color: #795E26">mimics</span><span style="color: #000000">(</span><span style="color: #001080">origin</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mocked</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>
<span style="color: #001080">mocked</span><span style="color: #000000">.</span><span style="color: #001080">property</span><span style="color: #000000"> = </span><span style="color: #098658">3</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #001080">mocked</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">);</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">6</span><span style="color: #000000">);</span>
<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">.</span><span style="color: #795E26">method</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">));</span>
</code></pre>
				<a href="#typeof-operator" id="typeof-operator" style="color: inherit; text-decoration: none;">
					<h2>typeof operator</h2>
				</a>
				<p>Some operations are not possible to trap in order to keep the language consistent, one of them is typeof. The type of
					the proxy object will be the same as the proxy target. So at the moment the only available options is to provider target
				option as a create mock parameter.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Origin</span><span style="color: #000000"> {</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">origin</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Origin</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Origin</span><span style="color: #000000">&gt;({</span><span style="color: #001080">target:</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Origin</span><span style="color: #000000">()});</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">()).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Origin</span><span style="color: #000000">());</span>
</code></pre>
				<a href="#in-operator" id="in-operator" style="color: inherit; text-decoration: none;">
					<h2>in operator</h2>
				</a>
				<p>The library supports <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in">in operator</a>. More
					examples could be
				found <a href="https://raw.githubusercontent.com/dvabuzyarov/moq.ts/master/projects/moq/src/integration.specs/in-operator.spec.ts">here</a></p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">name</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;arbitrary name&quot;</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;{}&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">name</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
</code></pre>
				<pre><code class="language-typescript"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">ITestObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">property</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">TestObject</span><span style="color: #000000"> </span><span style="color: #0000FF">implements</span><span style="color: #000000"> </span><span style="color: #267F99">ITestObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">property</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #795E26">method</span><span style="color: #000000">(): </span><span style="color: #267F99">void</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #0000FF">undefined</span><span style="color: #000000">;</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">prototypeof</span><span style="color: #000000">(</span><span style="color: #267F99">TestObject</span><span style="color: #000000">.</span><span style="color: #001080">prototype</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #008000">// because &quot;property&quot; in new TestObject() === false</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;property&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">false</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;method&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
</code></pre>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;{}&gt;();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual1</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;property&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual2</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;method&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">;</span>

<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;property&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Once</span><span style="color: #000000">());</span>
<span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;method&quot;</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">, </span><span style="color: #001080">Times</span><span style="color: #000000">.</span><span style="color: #795E26">Once</span><span style="color: #000000">());</span>
</code></pre>
				<a href="#new-operator" id="new-operator" style="color: inherit; text-decoration: none;">
					<h2>new operator</h2>
				</a>
				<p>The library supports <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new operator</a>.
					More examples could be
				found <a href="https://raw.githubusercontent.com/dvabuzyarov/moq.ts/master/projects/moq/src/integration.specs/new-operator.spec.ts">here</a></p>
				<blockquote>
					<p>[In order for the new operation to be valid on the resulting Proxy object,
						the target used to initialize the proxy must itself have a [[Construct]] internal method
					(i.e. new target must be valid)](<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/construct">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/construct</a>).</p>
				</blockquote>
				<pre><code class="language-typescript"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">TestObject</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">constructor</span><span style="color: #000000">(</span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">readonly</span><span style="color: #000000"> </span><span style="color: #001080">arg</span><span style="color: #000000">) {</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>
</code></pre>
				<pre><code class="language-typescript"><span style="color: #000000">    </span><span style="color: #795E26">it</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Returns new object with callback&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">value</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;value&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">TestObject</span><span style="color: #000000">&gt;({</span><span style="color: #001080">target:</span><span style="color: #000000"> </span><span style="color: #001080">TestObject</span><span style="color: #000000">})</span>
<span style="color: #000000">        .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">))</span>
<span style="color: #000000">        .</span><span style="color: #795E26">callback</span><span style="color: #000000">(({</span><span style="color: #001080">args</span><span style="color: #000000">: [</span><span style="color: #001080">name</span><span style="color: #000000">]}) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">TestObject</span><span style="color: #000000">(</span><span style="color: #001080">name</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">object</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toEqual</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">TestObject</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">));</span>
<span style="color: #000000">    </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">));</span>
<span style="color: #000000">});</span>

<span style="color: #795E26">it</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Returns new object with returns&quot;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">value</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;value&quot;</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">expected</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">TestObject</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080">TestObject</span><span style="color: #000000">&gt;({</span><span style="color: #001080">target:</span><span style="color: #000000"> </span><span style="color: #001080">TestObject</span><span style="color: #000000">})</span>
<span style="color: #000000">        .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">))</span>
<span style="color: #000000">        .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #001080">expected</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">object</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #001080">expected</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">mock</span><span style="color: #000000">.</span><span style="color: #795E26">verify</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">(</span><span style="color: #001080">value</span><span style="color: #000000">));</span>
<span style="color: #000000">});</span>
</code></pre>
				<a href="#moqapi-symbol" id="moqapi-symbol" style="color: inherit; text-decoration: none;">
					<h2>MoqAPI symbol</h2>
				</a>
				<p>In some scenarios it is necessary to get Moq API from mocked object. For this purposes the library provides a predefined
				symbol MoqAPI. Mocked objects in their turn expose a symbol property to access to its Moq API.</p>
				<p>Since this property makes sense only in context of the moq library and is not specific for mocked types it is not
				possible to define an interaction behaviour with Setup API.</p>
				<p>The property is read only and trackabel, so it possible to use for verification.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">func</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000">&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #001080">func</span><span style="color: #000000">[</span><span style="color: #001080">MoqAPI</span><span style="color: #000000">]</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">instance</span><span style="color: #000000">())</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #098658">12</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">actual</span><span style="color: #000000"> = </span><span style="color: #795E26">func</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">actual</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">12</span><span style="color: #000000">);</span>
</code></pre>
				<p>In operator does not see this property until it is used in setups.</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;{}&gt;()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">MoqAPI</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">false</span><span style="color: #000000">);</span>
</code></pre>
				<p>BUT</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mock</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Mock</span><span style="color: #000000">&lt;</span><span style="color: #267F99">ITestObject</span><span style="color: #000000">&gt;();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = </span><span style="color: #001080">mock</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setup</span><span style="color: #000000">(</span><span style="color: #001080">instance</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">instance</span><span style="color: #000000">[</span><span style="color: #001080">MoqAPI</span><span style="color: #000000">])</span>
<span style="color: #000000">    .</span><span style="color: #795E26">returns</span><span style="color: #000000">(</span><span style="color: #0000FF">undefined</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">object</span><span style="color: #000000">();</span>

<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">MoqAPI</span><span style="color: #000000"> </span><span style="color: #0000FF">in</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
<span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">object</span><span style="color: #000000">[</span><span style="color: #001080">MoqAPI</span><span style="color: #000000">]).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #001080">mock</span><span style="color: #000000">);</span>
</code></pre>
				<blockquote>
					<p><a href="https://www.2bit.ch">Sponsored by 2BIT GmbH</a></p>
				</blockquote>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/InjectFlags.html" class="tsd-kind-icon">Inject<wbr>Flags</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/PlayableUpdateReason.html" class="tsd-kind-icon">Playable<wbr>Update<wbr>Reason</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/Range.html" class="tsd-kind-icon">Range</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ApplyReflectorTrap.html" class="tsd-kind-icon">Apply<wbr>Reflector<wbr>Trap</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AsyncExpressionDetector.html" class="tsd-kind-icon">Async<wbr>Expression<wbr>Detector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AsyncExpressionReflector.html" class="tsd-kind-icon">Async<wbr>Expression<wbr>Reflector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AsyncReflectingProxyInjectorFactory.html" class="tsd-kind-icon">Async<wbr>Reflecting<wbr>Proxy<wbr>Injector<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AutoMockFactory.html" class="tsd-kind-icon">Auto<wbr>Mock<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AutoMockInjectorConfig.html" class="tsd-kind-icon">Auto<wbr>Mock<wbr>Injector<wbr>Config</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AutoMockOptionsBuilder.html" class="tsd-kind-icon">Auto<wbr>Mock<wbr>Options<wbr>Builder</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/AutoMockedStorage.html" class="tsd-kind-icon">Auto<wbr>Mocked<wbr>Storage</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/CallbacksPreset.html" class="tsd-kind-icon">Callbacks<wbr>Preset</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ComplexExpressionErrorFormatter.html" class="tsd-kind-icon">Complex<wbr>Expression<wbr>Error<wbr>Formatter</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ComplexExpressionGuard.html" class="tsd-kind-icon">Complex<wbr>Expression<wbr>Guard</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ComplexExpressionValidator.html" class="tsd-kind-icon">Complex<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/CompositeExpressionReflector.html" class="tsd-kind-icon">Composite<wbr>Expression<wbr>Reflector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ConstructReflectorTrap.html" class="tsd-kind-icon">Construct<wbr>Reflector<wbr>Trap</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/DateMatcher.html" class="tsd-kind-icon">Date<wbr>Matcher</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/DefaultInjectorConfig.html" class="tsd-kind-icon">Default<wbr>Injector<wbr>Config</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/EqualMatchingInjectorConfig.html" class="tsd-kind-icon">Equal<wbr>Matching<wbr>Injector<wbr>Config</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Expression.html" class="tsd-kind-icon">Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ExpressionFormatter.html" class="tsd-kind-icon">Expression<wbr>Formatter</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ExpressionGuardExceptionFactory.html" class="tsd-kind-icon">Expression<wbr>Guard<wbr>Exception<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ExpressionValidator.html" class="tsd-kind-icon">Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/FunctionExpression.html" class="tsd-kind-icon">Function<wbr>Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/FunctionExpressionValidator.html" class="tsd-kind-icon">Function<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/GetPropertyExpression.html" class="tsd-kind-icon">Get<wbr>Property<wbr>Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/GetPropertyExpressionValidator.html" class="tsd-kind-icon">Get<wbr>Property<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/GetReflectorTrap.html" class="tsd-kind-icon">Get<wbr>Reflector<wbr>Trap</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/HasReflectorTrap.html" class="tsd-kind-icon">Has<wbr>Reflector<wbr>Trap</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Host.html" class="tsd-kind-icon">Host</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/InOperatorExpression.html" class="tsd-kind-icon">In<wbr>Operator<wbr>Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/InOperatorExpressionValidator.html" class="tsd-kind-icon">In<wbr>Operator<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/InjectionToken.html" class="tsd-kind-icon">Injection<wbr>Token</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Injector.html" class="tsd-kind-icon">Injector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/InstanceMethodExpressionValidator.html" class="tsd-kind-icon">Instance<wbr>Method<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/It.html" class="tsd-kind-icon">It</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/IteratorMatcher.html" class="tsd-kind-icon">Iterator<wbr>Matcher</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/MapMatcher.html" class="tsd-kind-icon">Map<wbr>Matcher</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/MethodExpression.html" class="tsd-kind-icon">Method<wbr>Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/MethodOnlyReflectingProxyFactory.html" class="tsd-kind-icon">Method<wbr>Only<wbr>Reflecting<wbr>Proxy<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/MethodReflectingProxyFactory.html" class="tsd-kind-icon">Method<wbr>Reflecting<wbr>Proxy<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/MethodReflectorTrap.html" class="tsd-kind-icon">Method<wbr>Reflector<wbr>Trap</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/MimicsPreset.html" class="tsd-kind-icon">Mimics<wbr>Preset</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/Mock.html" class="tsd-kind-icon">Mock</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/MockCore.html" class="tsd-kind-icon">Mock<wbr>Core</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/NewOperatorExpression.html" class="tsd-kind-icon">New<wbr>Operator<wbr>Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/NewOperatorExpressionValidator.html" class="tsd-kind-icon">New<wbr>Operator<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/NullInjector.html" class="tsd-kind-icon">Null<wbr>Injector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Optional.html" class="tsd-kind-icon">Optional</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/POJOMatcher.html" class="tsd-kind-icon">POJOMatcher</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PlayTimes.html" class="tsd-kind-icon">Play<wbr>Times</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PlayableAlways.html" class="tsd-kind-icon">Playable<wbr>Always</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PlayableExactly.html" class="tsd-kind-icon">Playable<wbr>Exactly</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PlayableNever.html" class="tsd-kind-icon">Playable<wbr>Never</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PlayableOnce.html" class="tsd-kind-icon">Playable<wbr>Once</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PlayableSequence.html" class="tsd-kind-icon">Playable<wbr>Sequence</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/PropertiesValueStorage.html" class="tsd-kind-icon">Properties<wbr>Value<wbr>Storage</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ReflectingProxyFactory.html" class="tsd-kind-icon">Reflecting<wbr>Proxy<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ReflectingProxyInjectorFactory.html" class="tsd-kind-icon">Reflecting<wbr>Proxy<wbr>Injector<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/RejectedPromiseFactory.html" class="tsd-kind-icon">Rejected<wbr>Promise<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ResolvedPromiseFactory.html" class="tsd-kind-icon">Resolved<wbr>Promise<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/ReturnsPreset.html" class="tsd-kind-icon">Returns<wbr>Preset</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Self.html" class="tsd-kind-icon">Self</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/SetPropertyExpression.html" class="tsd-kind-icon">Set<wbr>Property<wbr>Expression</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/SetPropertyExpressionValidator.html" class="tsd-kind-icon">Set<wbr>Property<wbr>Expression<wbr>Validator</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/SetReflectorTrap.html" class="tsd-kind-icon">Set<wbr>Reflector<wbr>Trap</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/SkipSelf.html" class="tsd-kind-icon">Skip<wbr>Self</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/StaticInjector.html" class="tsd-kind-icon">Static<wbr>Injector</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/StringErrorStyler.html" class="tsd-kind-icon">String<wbr>Error<wbr>Styler</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/SyncExpressionReflector.html" class="tsd-kind-icon">Sync<wbr>Expression<wbr>Reflector</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/ThrowsPreset.html" class="tsd-kind-icon">Throws<wbr>Preset</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Times.html" class="tsd-kind-icon">Times</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/Tracker.html" class="tsd-kind-icon">Tracker</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/VerifyError.html" class="tsd-kind-icon">Verify<wbr>Error</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/AbstractType.html" class="tsd-kind-icon">Abstract<wbr>Type</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ClassProvider.html" class="tsd-kind-icon">Class<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ClassSansProvider.html" class="tsd-kind-icon">Class<wbr>Sans<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ConstructorProvider.html" class="tsd-kind-icon">Constructor<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ConstructorSansProvider.html" class="tsd-kind-icon">Constructor<wbr>Sans<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ExistingProvider.html" class="tsd-kind-icon">Existing<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ExistingSansProvider.html" class="tsd-kind-icon">Existing<wbr>Sans<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ExpressionReflector.html" class="tsd-kind-icon">Expression<wbr>Reflector</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/FactoryProvider.html" class="tsd-kind-icon">Factory<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/FactorySansProvider.html" class="tsd-kind-icon">Factory<wbr>Sans<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/IInjectorConfig.html" class="tsd-kind-icon">IInjector<wbr>Config</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/IMock.html" class="tsd-kind-icon">IMock</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/IMockOptions.html" class="tsd-kind-icon">IMock<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/IObjectMatcher.html" class="tsd-kind-icon">IObject<wbr>Matcher</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/IPlayable.html" class="tsd-kind-icon">IPlayable</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/IPreset.html" class="tsd-kind-icon">IPreset</a>
					</li>
					<li class=" tsd-kind-interface tsd-has-type-parameter">
						<a href="interfaces/IPresetBuilder.html" class="tsd-kind-icon">IPreset<wbr>Builder</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/InjectionFactory.html" class="tsd-kind-icon">Injection<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/StaticClassProvider.html" class="tsd-kind-icon">Static<wbr>Class<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/StaticClassSansProvider.html" class="tsd-kind-icon">Static<wbr>Class<wbr>Sans<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/TrackedAction.html" class="tsd-kind-icon">Tracked<wbr>Action</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ValueProvider.html" class="tsd-kind-icon">Value<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ValueSansProvider.html" class="tsd-kind-icon">Value<wbr>Sans<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#Expressions" class="tsd-kind-icon">Expressions</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#ForwardRefFn" class="tsd-kind-icon">Forward<wbr>Ref<wbr>Fn</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#IExpression" class="tsd-kind-icon">IExpression</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#IPredicate" class="tsd-kind-icon">IPredicate</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#PromisedType" class="tsd-kind-icon">Promised<wbr>Type</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#Provider" class="tsd-kind-icon">Provider</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#StaticProvider" class="tsd-kind-icon">Static<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#Type" class="tsd-kind-icon">Type</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#TypeOfInjectionFactory" class="tsd-kind-icon">Type<wbr>OfInjection<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#TypeProvider" class="tsd-kind-icon">Type<wbr>Provider</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="modules.html#TypeofInjectionToken" class="tsd-kind-icon">Typeof<wbr>Injection<wbr>Token</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#EXPRESSION_REFLECTOR" class="tsd-kind-icon">EXPRESSION_<wbr>REFLECTOR</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#INJECTOR" class="tsd-kind-icon">INJECTOR</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#MoqAPI" class="tsd-kind-icon">MoqAPI</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#NG_TEMP_TOKEN_PATH" class="tsd-kind-icon">NG_<wbr>TEMP_<wbr>TOKEN_<wbr>PATH</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#NO_NEW_LINE" class="tsd-kind-icon">NO_<wbr>NEW_<wbr>LINE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#OBJECT_MATCHERS" class="tsd-kind-icon">OBJECT_<wbr>MATCHERS</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#SOURCE" class="tsd-kind-icon">SOURCE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#THROW_IF_NOT_FOUND" class="tsd-kind-icon">THROW_<wbr>IF_<wbr>NOT_<wbr>FOUND</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#Type" class="tsd-kind-icon">Type</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#USE_VALUE" class="tsd-kind-icon">USE_<wbr>VALUE</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#INJECTOR_IMPL" class="tsd-kind-icon">INJECTOR_<wbr>IMPL</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#catchInjectorError" class="tsd-kind-icon">catch<wbr>Injector<wbr>Error</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="modules.html#dump" class="tsd-kind-icon">dump</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#formatError" class="tsd-kind-icon">format<wbr>Error</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#forwardRef" class="tsd-kind-icon">forward<wbr>Ref</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="modules.html#getClosureSafeProperty" class="tsd-kind-icon">get<wbr>Closure<wbr>Safe<wbr>Property</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="modules.html#injectorFactory" class="tsd-kind-icon">injector<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#isForwardRef" class="tsd-kind-icon">is<wbr>Forward<wbr>Ref</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="modules.html#resolveForwardRef" class="tsd-kind-icon">resolve<wbr>Forward<wbr>Ref</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="modules.html#stringify" class="tsd-kind-icon">stringify</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>